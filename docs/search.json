[
  {
    "objectID": "programs/clean/02-encounters-checks.html",
    "href": "programs/clean/02-encounters-checks.html",
    "title": "Arrest table cleanup",
    "section": "",
    "text": "The encounters table is supposed to log each encounter with a person that ICE suspects, but it’s unclear how complete it is. An encounter could mean a lot of things – the most frequent is a fingerprint match with a local jail. But it can also mean street encounters. It’s important to remember that an encounter might not be of someone who tells the truth or someone who is known to ICE.\nIt appears to be of less use on its own than as part of a case contiuum. There’s very little geographic detail, making it more interesting to trace cases through the system than to produce stories on its own. (At a national level, could have information for people who were NOT detained , arrested or removed, but it’s unclear how we’d get to that.)\nThere are still no US citizens purportedly in this data. The ones that I’ve found online were people detained not in ICE facilities (or arrested by ICE for immigration violations) but people arrested and put into federal law enforcement faciltities.\nCode\n```{r}\n#| label: setup\n#| message: false\n#| error: true\n#| code-fold: true\n\n# assumes pacman has been installed already\n\n\n\n#start with a blank slate\n\nrm (list=ls())\n\n# typical packages\npacman::p_load(\"tidyverse\", \"glue\", \"lubridate\", \"janitor\", \"readxl\", \"here\", \"googlesheets4\")\nhere::i_am(\"programs/clean/02-encounters-checks.qmd\")\n\n\n#additional packages here\nlibrary(data.table)\n# don't use openxlsx -- it doesn't really support the named regions that include tables.\nlibrary(openxlsx2)\n\n# when was this last picked up from the Deportation Data Project?\norig_xl_date &lt;- mdy(\"10/14/2025\")\nxl_filename &lt;- \"data/raw/ddp/2025-ICLI-00019_2024-ICFO-39357_ERO_Encounters_07312025.xlsx\"\n```"
  },
  {
    "objectID": "programs/clean/02-encounters-checks.html#read-excel-files",
    "href": "programs/clean/02-encounters-checks.html#read-excel-files",
    "title": "Arrest table cleanup",
    "section": "Read Excel files",
    "text": "Read Excel files\n\n\nCode\n```{r}\n#| label: get-workbook-only\n#| eval: false\n#| code-fold: true\n\n# this is slow. But loading the full workbook to get the ranges is also slow. I could\n# skip this because i know you skip 6 rows, but ...\nwb &lt;- wb_load(here(xl_filename))\n```\n\n\n\n\nCode\n```{r}\n#| label: get-xl-data-frames\n#| code-fold: true\n#| eval: false\n\ntable_ranges &lt;- wb_get_named_regions( wb, tables=TRUE)  |&gt;\n  filter ( value == \"table\") |&gt;\n  pull ( name)\n\ndfs &lt;- map ( table_ranges, \\(x) wb_to_df (wb, named_region = x))\n\nmaster_xl_encounters &lt;- dfs |&gt;\n  list_rbind() |&gt;\n  clean_names() |&gt;\n  select ( - c( final_program_group, birth_date, alien_file_number:eid_subject_id)) |&gt;\n  # sadly, there is no time element in the event_date or departed_date.\n  mutate ( across ( c (event_date, final_order_date), as_date))\n  rowid_to_column()\n\nglimpse(master_xl_encounters)\n```"
  },
  {
    "objectID": "programs/clean/02-encounters-checks.html#basic-cleanup",
    "href": "programs/clean/02-encounters-checks.html#basic-cleanup",
    "title": "Arrest table cleanup",
    "section": "Basic cleanup",
    "text": "Basic cleanup\n\n\nCode\n```{r}\n#| label: load-interim-data\n\nmaster_xl &lt;-\n  readRDS(here(\"data/interim/encounters_xl_tables.RDS\"))\n```\n\n\n\nDuplicates\nI’m not taking out apparent duplicates in this file because so many of them have missing unique identifiers. These encounters can happen en masse, and without the unique ID’s we can’t distinguish between the same person on the same day, or something else. The arrest analysis suggests this is a bit less of a problem than we’d expect, where only about 5000 rows had no unique identifier.\n\n\nCode\n```{r}\n#| label: create-data-table\n\nDT &lt;- copy(full_df)\n```\n\n\nError: object 'full_df' not found\n\n\nCode\n```{r}\n#| label: create-data-table\n\nsetDT(DT)\n```\n\n\nError in home(x, parent.env(env)): Cannot find symbol DT\n\n\nCode\n```{r}\n#| label: create-data-table\n\nsetorderv(DT, c(\"person_id\", \"event_date\", \"orig_row_id\"))\n```\n\n\nError: object 'DT' not found\n\n\nHere, I check for duplicate types\n\n\nCode\n```{r}\n#| label: uniqueid_dupes\n\n# compute dupe_count for each group (adds column by reference, very fast)\nDT[, dupe_count := .N, by = .(person_id, apprehension_date)]\n```\n\n\nError: object 'DT' not found\n\n\nCode\n```{r}\n#| label: uniqueid_dupes\n\n# take the last row of each group (because we've ordered the table above)\ndeduped &lt;- DT[, .SD[.N], by = .(person_id, apprehension_date)]\n```\n\n\nError: object 'DT' not found\n\n\nCode\n```{r}\n#| label: uniqueid_dupes\n\nstr(deduped)\n```\n\n\nError: object 'deduped' not found\n\n\n\n\nApply lookup tables for simplification"
  },
  {
    "objectID": "utilities/notes.html",
    "href": "utilities/notes.html",
    "title": "Untitled",
    "section": "",
    "text": "Read “Building a team of internal R packages” by Emily Riederer * Utilities - abstraction layer for connecting to data, etc. * Analysis - guiding a curated set of methods to answer common questions * Developer tools : Better outputs with building blocks like ggplot themes, quarto templates, Shiny modules.\nExample of simple function to connect to local database.\nget_database_conn &lt;- function() {\n\nconn &lt;-\n  DBI::dbConnect(\n    drv = odbc::odbc(),\n      driver = \"driver name here\",\n      server = \"server string here\",\n      UID = Sys.getenv(\"DB_USER\"),\n      PWD = Sys.getenv(\"DB_PASS\"),\n      port = \"port number here\"\n  )\n\nreturn(conn)\n\n}\nThis abstracts the username and password into a sys environment variable.\nUse embedded R markdown templates – this is a style thing, not a functional thing. I could add to the package to include defaults themes for reactable tables, for example, which would be better than changing the css definitions, I think.\nExample function: create_bl_html() would have logos, css, etc. A function that would copy them into the working directory.\nR/inst/extdata/_extensions folder - that quarto needs. Can have whatever format you need. _extensions is what Quarto uses.\n\nCreate _extensions folder\ncopies files from inst folder in package\ncreate new qmd file from the file name arg\n\nmeghan.rbind.io\nCreate internal package if you have one. Even if only to save a ggplot / other templates. If multiple people are creating the docs, create a template."
  },
  {
    "objectID": "documentation/docs-alldata.html",
    "href": "documentation/docs-alldata.html",
    "title": "All datasets",
    "section": "",
    "text": "The deportation data project posts five datasets: encounters, arrests, detainers, detentions, and removals. They also have a list of offices scraped from the sub-office website of ICE.\nIn the data/raw folder, I’ve made an exact copy of the data that the project posts. (Most recent in most cases.) There is also a copy that I can use for hand-editing, with more descriptive data names. That’s in the data/processed folder, even though it’s raw.\nThe project is pretty good about doing basic vetting of the datasets when they arrive. For example, it immediately post the removals data from July, when they found a serious flaw. They also post when each dataset is usable as history.\nThe data originally is extracted from DHS’s Enforcement Integrated Database, or EID, which is the back end to the department’s ENFORCE application. It’s supposed to hold details on the entire enforcement infrastructure, and is supposed to contain information from all of the enforcement agencies (I think).\nThe original data was downloaded from the Deportation Data Project, as of Oct. 13, 2025 (the date of this documentation). I’ll update it when they get a new batch. I downloaded the original, not cleaned, data.\nThere are some things to remember about all of the datasets, and some specific to individual ones."
  },
  {
    "objectID": "documentation/docs-alldata.html#common-categories",
    "href": "documentation/docs-alldata.html#common-categories",
    "title": "All datasets",
    "section": "Common categories",
    "text": "Common categories\nThere are a ton of variables that exist across all of the tables with the same meaning. Those are documented here. Columns specific to one table are defined in its documentation. The definitions lean heavily on the documentation provided by the Deportation Data Project.\n\n\n\n\n\n\nTODO\n\n\n\n\nDecide how to deal with crime codes so they’re collapsed into meaningful categories that would be able to be used in a sentence.\n\n\n\n\n\n\n\n\n\nQuestions\n\n\n\n\nCan we say that someone was only convicted of immigration offenses if that is the most serious crime? How can we characterize that?\n\n\n\n\nMost serious crime categories\nIt’s really unclear what is considered the “most serious” crime. In particular, it’s unclear whether any immigration offense, such as illegal entry, is considered more serious than, say, a DUI.\n\nTRAC, at some point, got a list of offense codes from DHS that lists the ‘level’ of each crime, as 1, 2, or 3. We can see there that illegal entry to the US is the lowest crime category. But it doesn’t really help within the levels. (These were based on the old Morton memo, and haven’t been in use for a long time, I don’t think.)\nThe American Immigration Council examined the “Most serious charge” in the Criminal Alien Program that gives some detail on what they consider more and less serious.\n\nAlso from the American Immigration Council:\n\n“Aggravated felony” is a term of art used to describe a category of offenses carrying particularly harsh immigration consequences for noncitizens convicted of such crimes. Regardless of their immigration status, noncitizens who have been convicted of an “aggravated felony” are prohibited from receiving most forms of relief that would spare them from deportation, including asylum, and from being readmitted to the United States at any time in the future.\nDespite what the ominous-sounding name may suggest, an “aggravated felony” does not require the crime to be “aggravated” or a “felony” to qualify. Instead, an “aggravated felony” is simply an offense that Congress sees fit to label as such, and today includes many nonviolent and seemingly minor offenses.\n…\nAs initially enacted in 1988, the term “aggravated felony” referred only to murder, federal drug trafficking, and illicit trafficking of certain firearms and destructive devices. Congress has since expanded the definition of “aggravated felony” on numerous occasions, but has never removed a crime from the list. Today, the definition of “aggravated felony” covers more than thirty types of offenses, including simple battery, theft, filing a false tax return, and failing to appear in court.\n\n\nUSCIS has a list of aggravated felonies on its website, but I’m not sure how up to date it is.) (You can also be deported for crimes of “moral turpitude”.)\n\n\nThe ICE custody worksheet suggests that the most serious crime conviction is based on the sentence, and nothing else: https://www.ice.gov/doclib/detention-standards/2011/2-2.pdf"
  },
  {
    "objectID": "documentation/docs-alldata.html#case-status-and-category-codes",
    "href": "documentation/docs-alldata.html#case-status-and-category-codes",
    "title": "All datasets",
    "section": "Case status and category codes",
    "text": "Case status and category codes\nThe case status and category codes contain remnants of the law as it existed before 1996, and have been constantly updated piecemeal. That makes them really difficult to understand. I’ve tried to combine and rename these codes into meaningful groups.\nAlthough they mean different things, the case status and category tend to go together. In arrests, for example, they have the exact same number of missing values.\n\n\n\n\n\n\nWarning\n\n\n\nI still need to run these by an expert – use with care.\n\n\n\nCase status\nAt the highest level, refers to whether it is in ICE’s purview. Anything that is ACTIVE is still on their books. Everything else is a reason that they’re not. I’ve grouped ACTIVE with the missing values to create “Active case”, and then grouped the 13 more detailed reasons into more general categories. The recodes are called case_status_bln in the tables.\n\n\n\n\n\n\n\nNew category\nOriginal categories\n\n\n\n\nActive case\nACTIVE\n\n\nLeft without arrest\n0-Withdrawal Permitted - I-275 Issued ; 3-Voluntary Departure Confirmed ; 9-VR Witnessed\n\n\nAlien Enemies Act expulsion\n5-Title 50 Expulsion\n\n\nExcluded / removed\n6-Deported/Removed - Deportability ; 8-Excluded/Removed - Inadmissibility;\n\n\nNo further action\n7-Died ; A-Proceedings Terminated ; E-Charging Document Canceled by ICE\n\n\nPermanent residence granted\nL-Legalization - Permanent Residence Granted ; Z-SAW - Permanent Residence Granted\n\n\nUnknown\nMissing values\n\n\n\n\n\nCase category\nThere are"
  },
  {
    "objectID": "documentation/docs-alldata.html#data-cleaning-checks",
    "href": "documentation/docs-alldata.html#data-cleaning-checks",
    "title": "All datasets",
    "section": "Data cleaning checks",
    "text": "Data cleaning checks\n\nDuplicates\nTrue duplicates (every column exactly the same) are removed. But there are other types of duplication that are handled table-by-table. In some cases, they actually aren’t duplicates – they refer to more than one thing happening to a person or a case. In others, they’re artifacts of a relational system and how they’re handled depends on what the substantive question is. In still other cases, they may be duplicates, but we’re not sure.\nGenerally:\n\nDuplicates across all fields, including missing values. Just save one – it doesn’t matter which.\nDupes created by the relational nature of the data. For example, a person could be arrested twice, or they will show up over and over in the detention data. In each dataset, we can decide how to handle them for the purpose of local reporting. Using the same example in detention, for example, might mean that we want to create a snapshot for each detention location that has anyone who was ever in that area. For arrests, we may only want to keep the most recent OR we may want to create some summaries of arrests, and summaries of people, separately.\nDupes that appear to be the same, but have different information. An example is an arrest record that differs in most cells, but has the same unique person ID and the same date and time as others. One answer is to look at the order that the file came in, and choose the one that appears to be the most recent (top or bottom of list in their original order), or see whether one of the values suggests it is a record that SHOULD be deleted (entered in error).\n\n\n\nMissing unique identifiers\nICE is supposed to provide a scrambled unique identifier for each person but there are quite a few missing.\n\n\nDates and times\nIn each table, I checked to see if there is a meaningful time element to the date. If not, I converted the original column from date-time to just date. How this gets handled by others depends on the data processing software they use. If there is a meaningful time, then I added a column with the original name and the suffix _part"
  },
  {
    "objectID": "documentation/docs-alldata.html#progress-notes",
    "href": "documentation/docs-alldata.html#progress-notes",
    "title": "All datasets",
    "section": "Progress notes",
    "text": "Progress notes\n\n\n\n\n\n\nQuestions\n\n\n\n\nIs there any meaning to the original order of the file? This would affect what we do with duplicates.\nAre there any indicators of mistakes made in the data? (This might be a program code or something, or might be in the way they’re ordred. In LIONS, for example, they’re not allowed to just delete something, so they have to mark something for deletion instead when they make a mistake.)"
  },
  {
    "objectID": "documentation/documentation.html",
    "href": "documentation/documentation.html",
    "title": "BLN immigration project",
    "section": "",
    "text": "NOT FOR PUBLICATION\nThis website documents BLN’s work on the Deportation Data Project’s collection of ICE datasets."
  },
  {
    "objectID": "documentation/documentation.html#immigration-data-projects-in-the-wild",
    "href": "documentation/documentation.html#immigration-data-projects-in-the-wild",
    "title": "BLN immigration project",
    "section": "Immigration data projects in the wild",
    "text": "Immigration data projects in the wild\n\nDeportation Data Project\nThe Deportation data project is run by Graeme Blair of UCLA and David Hausman of Berkeley Law. Together, they’ve sued DHS to obtain individual-level data from ICE and CBP about encounters, arrests, detainers, detentions and removals. So far it doesn’t seem that they’ve gotten much from CBP, but they have obtained the data from ICE. It gets updated irregularly, most recently in September 2025 for data ending in July.\nWe spoke with Hausman in September, who told us a bit about the project and about some of the uses for his data. In particular, he said that news organizations had done a good job using local arrest data, for what it’s worth, but that the others take some decision-making and are a little harder. In his view, the detention data would have the most use for local reporters and is the most under-used.\nGraeme is undertaking a project to make LIONS more accessible to researchers and reporters – I’ve had one interaction with him but didn’t hear back after I responded to his message.\nThe project is currently setting up “slicers” for their data, but is not really trying to make it more accessible than that. Hausman said he would welcome any help we can give in helping reporters use it – they are getting a lot of questions and requests for help, and they can’t handle it all. They need this help more than any technical help.\nWe talked with them about how Big Local could help fill that void.\nThey have excellent documentation of the terms used in deportation datasets - it’s a great guide to what we know and what we don’t about the data.\n\n\nFollow up from symposium of reporters\nIn June, Berkeley Journalism and a few other places hosted a symposium of reporters, experts, etc. to discuss immigration reporting. Our contact there is Andrés Cediel, a documentarian with a lot of interest in immigration issues. We spoke with him on Oct 10. They want to make the data more transparent, and are focused on visualizations that could be embedded. Others who are still involved include Mark Lima of CBS and (I think) Lourdes Duarte from Chicago WGN.\nTheir inspiration was the COVID tracking project from the Atlantic.\nHis story ideas were pretty straightforward: US citizens getting caught up in raids, looking at children , those without criminal records. They are working with the Berkeley-based California News Fellowship (the group that is funded by the Calif. government to fill holes in local reporting.)\nRyan explained our model of working with a national outlet to do a story that we can help get localized by partners that we’ve worked with before, then have training materials, cleaned data, etc. to provide to anyone once we know what we’re doing. In a followup note, Andrès still seemed focused on dashboard / visualizations, but Ryan clarified that.\nHe mentioned that LAT did a good job using the data after their protests.\n\n\nGuardian US\nWill Craft, who has done a lot of work with Big Local in the past, is using the Deportation Data project pretty effectively, and is interested in being our national partner. We’re scheduled to talk with him next week.\n\n\nEnforcement dashboard\nThe immigration enforcement dashboard was initialy released in September, but includes only arrest data for the time being. The project is led by Austin Kocher an asst. research professor at Syracuse Journalism in the Office of Research and Creative Technology.1\nThere is a proof of concept at https://enforcementdashboard.com/ice-arrests/ for arrests, but it’s unclear if they are going beyond that. It’s done by Kocher’s company, Relevant Research, which also has a site called https://detentionreports.com. His numbers in detention can’t be separately sourced because he is using an imputation method to convert year-to-date averages into daily populations by month.2\nHe has gotten historical numbers by week by going to the wayback machine. ICE takes down the old links, but WAYBACK has them\nOn https://austinkocher.substack.com/ , he has done some work explaining what is in the data and what isn’t.\nThe enforcement dashboard has some issues with functionality – my guess is that although the concept worked for aggregated stats that are in the ICE detention data, it doesn’t work for datasets with way more values in it.\n\n\nOther possible sources\n\nInterest groups\n\nCato Institute, immigration project. It’s unclear who we’d want to speak with - they have several people writing articles, including Scott Lincicome and David J. Bier. Bier published at least one article referencing “nonpublic data” acquired by Cato that isn’t anywhere else.\n\n\n\nReporters\n\nLA Times reporters who have been working with all of the data\nTim Henderson, Stateline\nAnthony DeBarros, WSJ, who analyzed the Deportation Data Project’s datasets in context of other available sources, at https://www.wsj.com/us-news/ice-deportations-charts-b3593e29?st=Gbjv6u&reflink=desktopwebshare_permalink\n\n\n\n\nTracking cases through the system\nTBD"
  },
  {
    "objectID": "documentation/documentation.html#progress-notes",
    "href": "documentation/documentation.html#progress-notes",
    "title": "BLN immigration project",
    "section": "Progress notes",
    "text": "Progress notes\n\n\n\n\n\n\nTODO\n\n\n\n\nGet a list of famous cases that should be followed through the system\n\nMoving around detention\nArrest at courthouse\nUS citizens\nDeaths\nChildren\n\n\n\n\n\n\n\n\n\n\nQuestions\n\n\n\n\nIs the unique identifier the same over time?\nWhat is the impact of this coming from ICE’s Integrated Enforcement Database? Is any CBP data included? Should it be?"
  },
  {
    "objectID": "documentation/documentation.html#folder-structure",
    "href": "documentation/documentation.html#folder-structure",
    "title": "BLN immigration project",
    "section": "Folder structure",
    "text": "Folder structure\nI have not put the /data/ files into the github repo, but everything needed to get there is in the programs. (I don’t want to make copies of the Deportation Data Project’s work, so I am referring anyone who wants the originals to their site. )\nIn my project, the folder structure is:\n\n\n+-- documentation (most name are self-explanatory\n|   `-- master_data_dictionary_lookups.xlsx\n+-- programs (names are self-explanatory)\n+-- data\n|   +-- raw\n|   |  +-- ddp : Data exactly as provided by deportation data project with the original names.\n|   +-- clean: processed, including interim data sets, in R or DB form or both.\n+-- share\n|   +-- data: shared datasets in any form"
  },
  {
    "objectID": "documentation/documentation.html#footnotes",
    "href": "documentation/documentation.html#footnotes",
    "title": "BLN immigration project",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nThese are usually grant management divisions of schools, and there is nothing about it in the Newhouse School’s website. So it’s really unclear whether he works there or not. He’s associated with Margaret Talev’s group as well. Although he says he has a lot of research and media outlet work, it seems really out of date – CSpan last year, and then nothing after 2022. He worked at TRAC while getting his PhD in geography.↩︎\nHe starts with the facilities report published by ICE bi-monthly, then calculates an “Interval” value. He takes a whole paper to say that he estimates the most recent two weeks’ values by backing out the number of days. (ADP is calculated as total pop / total # days for the fiscal year. Taking two time periods, can back out an ADP for the two weeks by taking ADPDays period 1 - ADP Days period 2 to get Days for Period 2, and then divide by the number of days.)↩︎"
  },
  {
    "objectID": "documentation/docs-backgrounder.html",
    "href": "documentation/docs-backgrounder.html",
    "title": "Understanding the immigration enforcement system",
    "section": "",
    "text": "I’m not going to go into much detail here, but it’s worth understanding a few key things about how the immigration removal system works.\nThere are two main agencies within the Department of Homeland Security that deal with illegal immigration. Customs and Border Patrol, or CBP, only operates within 50 miles of an international border, including the coastline. The people they deal with are usually those who have crossed the border illegally, not those who have presented themselves at the border and requested asylum.\nThe other agency is Immigration and ? Enforcement, or ICE. They operate in the interior of the country and are responsible for cases that have already been heard by an immigration court judge. Immigration court is completely separate from the U.S district court or a state criminal court – it is staffed by Justice Department employees, not people who work for an independent judiciary. Its only job is to determine whether or not someone should be “removed”, or sent back to their home countries or, in rare cases, some other country.\nBoth ICE and CBP can arrest people, but they are brought to immigration, not criminal, courts and are detained by ICE, not the US Bureau of Prisons. (The people arrested may also face charge in criminal court brought by a US attorney, but that is not really part of the immigration system).\nPeople come to the removal system in several different ways:\nIf an immigration judge has decided that someone should be removed, they become part of the immigration docket.\nEach of these situations is obviously a little different, but the data compiled by the Deportation Data Project generally only refers to people ICE has had some contact with , and usually only who that appear on the docket. The officers can go out looking for people who should be on their docket. They can also request cooperation from state and local authorities, or raid an area and place people on the docket who don’t have the proper authority to be here.\nHere are a few resources to learn more about how the system works:"
  },
  {
    "objectID": "documentation/docs-backgrounder.html#history-of-some-of-the-fields",
    "href": "documentation/docs-backgrounder.html#history-of-some-of-the-fields",
    "title": "Understanding the immigration enforcement system",
    "section": "History of some of the fields",
    "text": "History of some of the fields\nThis paper from Donald Kerwin of the Center for Migration Studies explains that some of the fields are remnants of historical immigration laws. I’ll try so summarize it here as it relates to the data.\n\nCase categories\nBefore 1996, “removable non-citizens” fell into two broad categories: deportable and excludable. Deportable generally means they came into the country legally – they have been lawfully admitted by going through the immigration officer at the border. Excludable means they can be sent back without the protections of going through a deportation process. Even though the law changed substantially in 1996, the data from ICE retains this language.1\nFor people seeking legal status, the difference is crucial: People who are excludable, or inadmissable, have to prove they have a legal right to stay. In contrast, the government has to prove that someone is deportable.\nof entry, they’ve crossed the border without being seen by an immigration officer (they snuck in), they apply to become a legal permanaent resident (green card holder), or they have been convicted of a crime and seek to be admitted sometime in the future.\nAt the time, immigrants who had entered the country before the 1996 law had greater rights, and were sent through deportation. But those stopped at the border became “excludable” based on the idea that they had no “entered” the country.\nAll of this language can be important, since it maps to the data columns provided by ICE.\n\nSource: “Immigration Consequences of a Criminal Conviction in North Carlina”, chapter 3\n\n\n\nEffects of criminal convictions on deportation and admission status\nMost states have some sort of chart that maps the federal policy to their own criminal code, such as this one from the University of Maryland: https://www.law.umaryland.edu/media/sol/sol-2022-images-and-files/academics/programs-and-centers/chacon-center-for-immigrant-justice-program/pdfs-docs-and-files/Md-Imm-Conseq-Chart-6-15-2021-revision-FINAL.pdf"
  },
  {
    "objectID": "documentation/docs-backgrounder.html#glossary",
    "href": "documentation/docs-backgrounder.html#glossary",
    "title": "Understanding the immigration enforcement system",
    "section": "Glossary",
    "text": "Glossary\n\nAdmission and deportation status\n\nAdmission\n\nLawful entry into the U.S. after inspection and authorization by an immigration officer. INA § 101(a)(13)(A), 8 U.S.C. § 1101(a)(13)(A). People become “excludable” if they are in the country without proper admission.\n\nDeportability\n\napplies to noncitizens who have been lawfully admitted to the U.S. (even if their lawful status has expired).\n\nInadmissibility\n\napplies to people who are seeking admission into the U.S. Green card holders convicted of certain crimes may not be able to return falling after traveling abroad on the grounds of inadmissibility\n\nExcludable\n\nSame as inadmissable, people who have not gone through the proper immigration or entry checks, including people caught within 100 miles of the border soon after arriving.\n\n\n\n\nLegal proceedings\nIn most cases, immigration officials have to go before an immigration judge to get an order of removal. But there are several categories that avoid this step, and can result in immediate removal.\nExamples include:\n\nExpedited removal\n\nRemoving people caught within 100 miles of the border after entering illegally, and have been in the country less than 2 years. This may sound like a narrow group, but it’s huge. Every coastline is a border, making people in the largest population centers subject to expedited removal. Expedited removal traditionally was used by the Customs and Border Patrol and applied to people who just arrived. The Trump administration is using it through ICE in large cities around the country. These are sometimes called “returns”.\n\nReinstatement of removal\n\nApplies to people who left either voluntarily or by being removed and re-enter illegally.\n\nAdministrative removal\n\nRemoval of people who have been convicted of an “aggravated felony”, as defined by Congress2. Aggravated felonies are not what they seem. They include crimes as serious as murder but also some people convicted of prostitution.\n\n\nPacific Enforcement Response Center (PERC) Tue, 06/12/2018 - 15:45 ICE established the PERC in January 2015 to serve as a tactical force multiplier for the Law Enforcement Support Center (LESC) and ERO field offices nationwide. Located in Laguna Niguel, California, the PERC operates round-the-clock 365 days per year and takes appropriate law enforcement action upon aliens suspected, arrested, or convicted of criminal activity across the United States. After initial alienage determination is made at the LESC, trained law enforcement officers at the PERC manage the high volume of actionable criminal leads requiring immediate enforcement action.\nThe PERC protects and defends the United States by sharing timely and relevant ICE information with ERO field offices and law enforcement partners nationwide, issuing immigration detainers/request for notification on high-priority and high-risk criminal aliens. The primary users of the PERC are ERO and ICE field offices that benefit from real-time enforcement decisions and actions made by the PERC. Officers at the PERC support DHS’s overarching mission to enhance national security and public safety by furthering the removal process of priority criminal aliens from the United States."
  },
  {
    "objectID": "documentation/docs-backgrounder.html#footnotes",
    "href": "documentation/docs-backgrounder.html#footnotes",
    "title": "Understanding the immigration enforcement system",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPeople who entered the country prior to 1996 had greater rights and were placed in deportation proceedings↩︎\n8 USC § 1101(a)(43)↩︎"
  },
  {
    "objectID": "documentation/docs-arrests.html",
    "href": "documentation/docs-arrests.html",
    "title": "Arrests",
    "section": "",
    "text": "ICE arrests contain a row for each person arrested by the ICE Enforcement and Removal Operations division.\nThese are the “administrative” arrests, which exclude a lot of things we’d be interested in, such as arrests that were prosecuted by US attorneys in the criminal justice system, anything done entirely by Customs and Border Protection, and the HHS division that handles resettlement of refugee children.\nThis means that this is a"
  },
  {
    "objectID": "documentation/docs-arrests.html#stories",
    "href": "documentation/docs-arrests.html#stories",
    "title": "Arrests",
    "section": "Stories",
    "text": "Stories\nA lot of people have done stories on arrests – they’re the easiest to understand.1. Here are ones that may lead us to good analyses and reporters who can help others.\n\nLos Angeles Times, “Majority of people arrested in LA immigration raids had no criminal history”, Jul. 16, 2025, Rachel Uranga and Sean Greene.\nCato Institute, “One in Five ICE Arrests are Latinos on the streets with no criminal past or removal order”, David J. Bier. They are defining this as “general area” arrests – otherwise, they would know? I wonder if this is right.\nStateline, “Convicted Criminals make up less than half of ICE arrests under Trump”, Tim Henderson. Some of the local reporters have used this as the start for their stories.\nIdaho Capitol Sun, “ICE arrests and detentions rise steeply in Idaho”, Laura Guido, Aug. 4, 2025"
  },
  {
    "objectID": "documentation/docs-arrests.html#bln-record-layout",
    "href": "documentation/docs-arrests.html#bln-record-layout",
    "title": "Arrests",
    "section": "BLN Record layout",
    "text": "BLN Record layout\nAs of October 2025. I removed fields that were redacted or always blank. I’ll only update counts when I change the data substantially,not when it’s updated.\n\n\n\n\n\n\n\n\n\n\n\n\norder\nitem\nlabel\nclass\nUnique values\npct missing\n\n\n\n\n\nRows in dataset\n291,722\n\n\n\n\n\n\nColumns in dataset\n19\n\n\n\n\n\n1\norig_row_id\nRow identifier in the order that it was originally received\ninteger\n\n0.0%\n\n\n2\napprehension_date\nRange: 2023-09-01 - 2025-07-29\nPOSIXct POSIXt\n\n0.0%\n\n\n3\napprehension_state\n\ncharacter\n62\n19.4%\n\n\n4\napprehension_aor\nArea of Reponsibility\ncharacter\n27\n2.0%\n\n\n5\nfinal_program\nRefers to the organizational program within ICE that handled the arrest. This is the original 14 ICE programs, collapsed to four\ncharacter\n14\n0.0%\n\n\n6\nfinal_program_group\nAlways “ICE”\ncharacter\n1\n0.0%\n\n\n7\napprehension_method\n\ncharacter\n27\n0.0%\n\n\n8\napprehension_criminality\n“Convicted Criminal”, “Pending Criminal Charges”; “Other Immigration Violator”\ncharacter\n3\n0.0%\n\n\n9\ncase_status\nTBD\ncharacter\n14\n1.5%\n\n\n10\ncase_category\nTBD\ncharacter\n30\n1.5%\n\n\n11\ndeparted_date\nRange: Other than 20 rows possibly in error, 2023-02-12 to 2025-07-28. Date only\nPOSIXct POSIXt\n\n42.3%\n\n\n12\ndeparture_country\n\ncharacter\n193\n42.3%\n\n\n13\nfinal_order_yes_no\n\ncharacter\n3\n1.5%\n\n\n14\nfinal_order_date\n1967-01-06 to 2025-07-29\nPOSIXct POSIXt\n\n39.0%\n\n\n15\nbirth_year\n1934 to 2025\nnumeric\n\n0.1%\n\n\n16\ncitizenship_country\n\ncharacter\n195\n0.0%\n\n\n17\ngender\nMale, Female, Unknown\ncharacter\n3\n0.0%\n\n\n18\napprehension_site_landmark\nDescriptive entry of the place the arrest took place\ncharacter\n5107\n2.1%\n\n\n19\nunique_identifier\nPerson ID\ncharacter\n274017\n0.8%\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nI converted some items to factors in order to have them sort properly in charts and graphs. Consider using the .Rds version of the file if you’re using R to keep these. They will be plain character variables in other data processing sofware."
  },
  {
    "objectID": "documentation/docs-arrests.html#definitions",
    "href": "documentation/docs-arrests.html#definitions",
    "title": "Arrests",
    "section": "Definitions",
    "text": "Definitions\n\nERO administrative arrests\nThe Deportation Data project is acquired from ICE, and refers to “ERO administrative arrests”.\nIn his series “A close look at ICE arrest data..”, Austin Kocher says that the Deportation Data Project’s arrest data is actually administrative arrests reported by ICE’s Enforcement and Removal Operations. This excludes CBP, HSI, and non-administrative arrests, he says. It suggests it excludes people caught up in protests or arrested without immigration orders.\nGenerally, ICE’s ERO arrests people with civil immigration law violations - they’re based on administrative arrest warrents. A CRS report says they can make arrests in two instances when they don’t have a warrant: 1) The alien is attempting to enter the country, 2) the officer has “reason to believe” the immigrant is here unlawfully and will escape if not arrested.\nThis second exception suggests that ICE just has to say, “I think you’re here unlawfully” and they can arrest without a warrant. These are the brief stops now called “Kavanaugh stops” because he said that using a broad definition here, even racial profiling, can fall under that exception.\n\n\nFinal program\nThe original data has 14 “final program” entries that can be lumped together into the following four categories, roughly following the guide used in the footnote on Page 25 of the Migration Policy Institute’s 2018 paper, “Revving up the Deportation Machinery”:\n\n\n\n\n\n\n\nNew category\nIncludes\n\n\n\n\nCriminal justice system\nERO Criminal Alien Program (CAP) ; 287G Program; 287g Task Force; ERO Criminal Prosecutions\n\n\nNon-detained docket\nAlternatives to Detention; Non-Detained Docket Control; Juvenile\n\n\nDetained docket\nDetained Docket Control; Detention and Deportation\n\n\nAt-large arrests\nFugitive Operations; Joint Criminal Alien Response Team; Law Enforcement Area Response Units; Mobile Criminal Alien Team; Violent Criminal Alien Section\n\n\n\n\n\nApprehension method\nThe Cato Institute had a piece on street vs. custody arrests, and they broke each of the 27 different kinds of apprehensions into those two categories. See the lookup tables for the exact translation. Almost all of the “From detention” are from state, local or federal jails and prisons.\nSome combinations of apprehension method and final program seem to conflict with each other. There’s not much we can do about this.\n\n\nCase status and category\nThese cross many of the tables and are documented in the page for all data. But generally, they both refer to the legal reasons that ICE is involved and that cover their removal process.\nCase status refers to the legal reason that someone was taken out of ICE control. They might have voluntarily left the country before charges were filed, or they might have even died. I collapsed the 14 categories into 6 to make analysis a little easier. Anything that isn’t an “Active case” or missing data (only about 4,500 cases) is in progress. Everything else means they’ve left ICE control.\nCase category is the detailed legal reason that they are seeking removal.\n\n\n\n\n\n\nImportant\n\n\n\nI need to run these translations by an expert - I’m not sure I have them exactly right."
  },
  {
    "objectID": "documentation/docs-arrests.html#processing-notes",
    "href": "documentation/docs-arrests.html#processing-notes",
    "title": "Arrests",
    "section": "Processing notes",
    "text": "Processing notes\n\nHandling duplicates\nThere are a handful of true duplicates – items with the exact same information in each column. But most of the dupes aren’t that straightforward. Here are some of the ways that dupes happen and what I’m doing with them for the time being:\n\nSame date/time, missing unique identifier: Separate events, since we don’t know if they are actually different people.\nSame date/time/identifier, different values in some columns: The one that comes last in the original data. This could be the wrong thing to do but I don’t know any alternative.\nSame identifier/date, different times: Use the most recent."
  },
  {
    "objectID": "documentation/docs-arrests.html#progress",
    "href": "documentation/docs-arrests.html#progress",
    "title": "Arrests",
    "section": "Progress",
    "text": "Progress\n\n\n\n\n\n\nTODO\n\n\n\n\nConvert character into factor vars where it makes sense for charting, sorting\nConvert date-time to date only where no time is recorded\nDecide on how to deal with partial duplicates\nCollapse case status\nCollapse case category\nCollapse program categories\nRun the recodes by an expert or two\n\n\n\n\n\n\n\n\n\nData questions\n\n\n\n\n\nClarify how much and what is missing from the ICE administrative arrest data. Kocher says it’s “likely” that it does not additional arrests. Is that true? (Hint: there are no U.S. citizens in the arrest data.)\nHow can there be arrests in the Detained Docket Control program – I thought this means that they’re already in ICE custody?\nIs it at all possible that the large number of missing final order dates refer to people who don’t have final orders of removal? If so, why are they arrested?\nHow are children handled in practice? I know the data here excludes OSS (HHS) detentions, but what happens in the arrest data?\n\n\n\n\n\n\n\n\n\nStory questions\n\n\n\n\nBased on what is and is not an ERO administrative arrest, can we find “Kavanaugh stops” by looking at detentions that were not based on a) detainers, b) warrants, or c) CBP operations?\nIs there anything interesting about people who are arrested but there is no final order? This would presumably be people who have evaded the immigration system entirely, or who have run away from detention? I guess it could include people who overstayed their visas as well."
  },
  {
    "objectID": "documentation/docs-arrests.html#detention",
    "href": "documentation/docs-arrests.html#detention",
    "title": "Arrests",
    "section": "Detention",
    "text": "Detention\n\nLos Angeles Times, “How ICE detainees are moved miles away from families and attorneys”, Sep. 26, 2025 and “‘It’s dystopian’: 1 in 3 ICE detainees held in overcrowded facilities”, Los Angeles Times, Aug. 29, 2025"
  },
  {
    "objectID": "documentation/docs-arrests.html#footnotes",
    "href": "documentation/docs-arrests.html#footnotes",
    "title": "Arrests",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nFor stories that require logins, I’m trying to get the text from Nexis or Proquest to link here, but they may not be included. We may have to call the reporters to get access to their stories.↩︎"
  },
  {
    "objectID": "programs/clean/01-arrest-checks.html",
    "href": "programs/clean/01-arrest-checks.html",
    "title": "Arrest table cleanup",
    "section": "",
    "text": "Not for publication\nThe arrests table cleanup is done in this document. See the documentation for details on why and how it ends up.\nCode\n```{r}\n#| label: setup\n#| message: false\n#| error: true\n#| code-fold: true\n\n# assumes pacman has been installed already\n\n\n# typical packages\npacman::p_load(\"tidyverse\", \"glue\", \"lubridate\", \"janitor\", \"readxl\", \"here\", \"googlesheets4\")\nhere::i_am(\"programs/clean/01-arrest-checks.qmd\")\n\n\n#additional packages here\nlibrary(data.table)\n\n\nrm (list=ls())\n\n# when was this last picked up from the Deportation Data Project?\norig_xl_date &lt;- mdy(\"10/14/2025\")\n#start with a blank slate\n```\nData Last Updated: October 14, 2025\nCode\n```{r}\n#| label: convenience\n#| code-fold: true\n\n# convenience functions\n\n# count numbr of rows with missing values in the specified column, optionally\n# filtered by a condition represented in a string.\nmissing_nrow &lt;- function(df, missing_column, optional_filter = NULL) {\n  if (!is.null(optional_filter)) {\n    df = df |&gt; dplyr::filter(!!rlang::parse_expr(optional_filter))\n  }\n\n  filtered_df = df |&gt; dplyr::filter(is.na(.data[[missing_column]]))\n  nrow(filtered_df)\n}\n\n# Round to nearest N means  you can use 500, not just 1, 100, 1000, etc.\n# Uses R rounding method, which would take 449.5 to 448, not 500, but I don't think\n# it matters here. There won't be anything that odd.\nround_nearest_n &lt;- function (x,  n ) {\n  rounded_value = round ( x / n) * n\n  return (formatC(rounded_value, format = \"d\", big.mark = \",\") )\n}\n\n# Takes an optional  list of objects, a string vector, and a file name\n# to save an Rda with objects renamed from the original.\n# example: saveit (  master_xl, lookup_tables, df_recoded ,\n#                   string = c(\"arrest_original\", 'arrest_lookups', \"arrest_recoded\") ,\n#                   file = \"/data/processed/arrests.Rda\")\n# the number of items in the vector have to match the number provided in the unlisted list\n\nsaveit &lt;- function(..., string, file) {\n        x &lt;- list(...)\n        names(x) &lt;- string\n        save(list=names(x), file=file, envir=list2env(x))\n    }\n```"
  },
  {
    "objectID": "programs/clean/01-arrest-checks.html#read-original-excel-file-from-deportation-data-project",
    "href": "programs/clean/01-arrest-checks.html#read-original-excel-file-from-deportation-data-project",
    "title": "Arrest table cleanup",
    "section": "Read original Excel file from Deportation Data Project",
    "text": "Read original Excel file from Deportation Data Project\nThe original Excel file has 19 columns that have to be imported with variable types to take care of Zip codes, dates and missing values. Reading everything as text has two problems: Floating point weirdness, and dates converted to serial numbers. The data header is at row 7 and the data starts row 8.\nTwo columns are dropped because they add no information: final_program_group is always “ICE”, apprehension_county is always missing. This could change in the future.\nI renamed the columns to a) lowercase everything; b) replace spaces and special characters with underscores.1\n\n\nCode\n```{r}\n#| label: get-arrest-rawdata\n#| message: true\n#| warning: true\n\nvar_types &lt;- c (\"guess\", rep(\"text\",9 ), \"guess\", \"text\", \"text\", \"guess\", \"skip\", \"guess\", rep(\"text\", 3),\n              rep(\"skip\", 3), \"text\")\n\norig_xls &lt;- read_excel(here(\n                      \"data/raw/ddp/2025-ICLI-00019_2024-ICFO-39357_ERO_AdminArrests_07312025.xlsx\"\n                      ),\n                      skip=6,\n                      col_types = var_types\n                      )  |&gt;\n            clean_names() |&gt;\n            # I'll get the last arrest in the datast later.\n            rowid_to_column(var=\"orig_row_id\") |&gt;\n\n            # county is always empty\n            select ( - c(apprehension_county, final_program_group))\n\nglimpse (orig_xls)\n```\n\n\nRows: 291,722\nColumns: 18\n$ orig_row_id                &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, …\n$ apprehension_date          &lt;dttm&gt; 2025-07-26 18:50:27, 2025-07-02 17:57:46, …\n$ apprehension_state         &lt;chr&gt; \"TEXAS\", \"NEVADA\", \"NEW YORK\", \"TEXAS\", \"TE…\n$ apprehension_aor           &lt;chr&gt; \"Houston Area of Responsibility\", \"Salt Lak…\n$ final_program              &lt;chr&gt; \"ERO Criminal Alien Program\", \"ERO Criminal…\n$ apprehension_method        &lt;chr&gt; \"Custodial Arrest\", \"CAP Local Incarceratio…\n$ apprehension_criminality   &lt;chr&gt; \"3 Other Immigration Violator\", \"2 Pending …\n$ case_status                &lt;chr&gt; \"ACTIVE\", \"ACTIVE\", \"6-Deported/Removed - D…\n$ case_category              &lt;chr&gt; \"[1A] Voluntary Departure - Un-Expired and …\n$ departed_date              &lt;dttm&gt; NA, NA, 2024-09-05, 2025-06-25, 2025-02-12…\n$ departure_country          &lt;chr&gt; NA, NA, \"GUYANA\", \"COLOMBIA\", \"EL SALVADOR\"…\n$ final_order_yes_no         &lt;chr&gt; \"NO\", \"NO\", \"YES\", \"YES\", \"YES\", \"YES\", \"YE…\n$ final_order_date           &lt;dttm&gt; NA, NA, 2014-03-13, 2025-03-02, 2025-01-10…\n$ birth_year                 &lt;dbl&gt; 2002, 1984, 1968, 2004, 2000, 2003, 2000, 1…\n$ citizenship_country        &lt;chr&gt; \"HONDURAS\", \"MEXICO\", \"GUYANA\", \"COLOMBIA\",…\n$ gender                     &lt;chr&gt; \"Male\", \"Male\", \"Female\", \"Male\", \"Male\", \"…\n$ apprehension_site_landmark &lt;chr&gt; \"MTG GENERAL AREA, NON-SPECIFIC\", \"NORTH LA…\n$ unique_identifier          &lt;chr&gt; \"000066a0cf0da888503506a0bd39e0772fada2ce\",…"
  },
  {
    "objectID": "programs/clean/01-arrest-checks.html#basic-cleanup",
    "href": "programs/clean/01-arrest-checks.html#basic-cleanup",
    "title": "Arrest table cleanup",
    "section": "Basic cleanup",
    "text": "Basic cleanup\n\nDates and missing values\n\nConvert dates and times: The date fields always have time elements, but only apprehension_date has meaningful time value. Create apprehension_date_part with the date portion and convert all of the others to date only.\nAbout 2,500 rows have no unique identifier for people. For the purpose of finding and removing duplicates, create a person_id, which is the unique_identifier when it exists and a combination of arrest date, area of responsibility (or state or “UNKNOWN” when it doesn’t exist) , and birth year. There’s a pretty good chance that we could have multiple people arrested at the same time in the same place who are the same age but there’s really not much other choice that I can see.\n\n\n\nCode\n```{r}\n#| label: fix-dates\n\nmaster_xl &lt;- orig_xls |&gt;\n  mutate ( apprehension_date_part =as_date(  apprehension_date),\n            # convert datetime to date when it's always midnight\n            across ( c ( final_order_date, departed_date), as_date),\n          alternate_id =\n                paste( format(apprehension_date_part, \"%Y-%m-%d\") ,\n                  coalesce ( apprehension_aor, apprehension_state, \"UNKNOWN\" ) ,\n                  coalesce ( sprintf(\"%04d\", birth_year) , \"0000\" ),\n                  sep=\"-\") ,\n    person_id = coalesce (unique_identifier,  alternate_id) ,\n    .after = unique_identifier\n    ) |&gt;\n  select ( orig_row_id, person_id, unique_identifier, apprehension_date, apprehension_date_part,\n            apprehension_aor, apprehension_state, apprehension_site_landmark,\n            final_program:gender) |&gt;\n  arrange ( person_id, apprehension_date, orig_row_id) |&gt;\n  group_by ( person_id, apprehension_date) |&gt;\n  fill ( apprehension_aor, apprehension_state) |&gt;\n  ungroup() |&gt;\n  arrange ( orig_row_id)\n\n\ndatelist &lt;- master_xl |&gt;\n  summarize ( min_arrest_dt = min (apprehension_date_part, na.rm=TRUE),\n              max_arrest_dt = max ( apprehension_date_part, na.rm=FALSE)\n\n        ) |&gt;\n    pivot_longer (everything()) |&gt;\n    pull ( value ) |&gt;\n    format( \"%B %e, %Y\")\n```\n\n\nThis data begins September 1, 2023 and ends July 29, 2025, has 291,722\n\n\nDuplicates\nThe original sort order is by the original unique_identifier (missing is at the end), then date/time of apprehension. It’s unclear which comes first when they’re the same – we don’t know for sure whether to take the first or last of these to create a unique item for that person at that time. However, it appears that in most duplicate cases, there are a series of entries that contain case_status of “E-Charging Document Canceled by ICE”, followed by something else. In those cases, the aor and state is often missing. Because they’re the same person at the same time, I chose to fill in those missing values.\nDon’t confuse these with what appear to be true multiple arrests – entries where the person was arrested in, say, 2023 and also 2025. I’m leaving those in.\nI’m using the data table method here because I know later on I’ll need the code for bigger tables.\n\n\nCode\n```{r}\n#| label: keep-unique\n\nDT &lt;- copy(master_xl)\nsetDT(DT)\nsetorderv(DT, c(\"person_id\", \"apprehension_date\", \"orig_row_id\"))\n\n# compute dupe_count for each group (adds column by reference, very fast)\nDT[, dupe_count := .N, by = .(person_id, apprehension_date)]\n\n# take the last row of each group (because we've ordered the table above)\ndeduped &lt;- DT[, .SD[.N], by = .(person_id, apprehension_date)]\n\nstr(deduped)\n```\n\n\nClasses 'data.table' and 'data.frame':  289947 obs. of  21 variables:\n $ person_id                 : chr  \"000066a0cf0da888503506a0bd39e0772fada2ce\" \"0000718e93d4f75cdec49ccdd21bf7a09f48a8b7\" \"0000f265b1ff8abbfbec54888dd2cddb62e21625\" \"00010f535759072a0dfa031f9f3fc5774e49ccee\" ...\n $ apprehension_date         : POSIXct, format: \"2025-07-26 18:50:27\" \"2025-07-02 17:57:46\" ...\n $ orig_row_id               : int  1 2 3 4 5 6 7 8 9 10 ...\n $ unique_identifier         : chr  \"000066a0cf0da888503506a0bd39e0772fada2ce\" \"0000718e93d4f75cdec49ccdd21bf7a09f48a8b7\" \"0000f265b1ff8abbfbec54888dd2cddb62e21625\" \"00010f535759072a0dfa031f9f3fc5774e49ccee\" ...\n $ apprehension_date_part    : Date, format: \"2025-07-26\" \"2025-07-02\" ...\n $ apprehension_aor          : chr  \"Houston Area of Responsibility\" \"Salt Lake City Area of Responsibility\" \"New York City Area of Responsibility\" \"San Antonio Area of Responsibility\" ...\n $ apprehension_state        : chr  \"TEXAS\" \"NEVADA\" \"NEW YORK\" \"TEXAS\" ...\n $ apprehension_site_landmark: chr  \"MTG GENERAL AREA, NON-SPECIFIC\" \"NORTH LAS VEGAS DETENTION CENTER\" \"CAP - BEDFORD CORRECTIONAL FACILITY NY STATE\" \"DLR GENERAL AREA, NON-SPECIFIC\" ...\n $ final_program             : chr  \"ERO Criminal Alien Program\" \"ERO Criminal Alien Program\" \"ERO Criminal Alien Program\" \"ERO Criminal Alien Program\" ...\n $ apprehension_method       : chr  \"Custodial Arrest\" \"CAP Local Incarceration\" \"CAP State Incarceration\" \"CAP Federal Incarceration\" ...\n $ apprehension_criminality  : chr  \"3 Other Immigration Violator\" \"2 Pending Criminal Charges\" \"1 Convicted Criminal\" \"1 Convicted Criminal\" ...\n $ case_status               : chr  \"ACTIVE\" \"ACTIVE\" \"6-Deported/Removed - Deportability\" \"8-Excluded/Removed - Inadmissibility\" ...\n $ case_category             : chr  \"[1A] Voluntary Departure - Un-Expired and Un-Extended Departure Period\" \"[8B] Excludable / Inadmissible - Under Adjudication by IJ\" \"[3] Deportable - Administratively Final Order\" \"[8F] Expedited Removal\" ...\n $ departed_date             : Date, format: NA NA ...\n $ departure_country         : chr  NA NA \"GUYANA\" \"COLOMBIA\" ...\n $ final_order_yes_no        : chr  \"NO\" \"NO\" \"YES\" \"YES\" ...\n $ final_order_date          : Date, format: NA NA ...\n $ birth_year                : num  2002 1984 1968 2004 2000 ...\n $ citizenship_country       : chr  \"HONDURAS\" \"MEXICO\" \"GUYANA\" \"COLOMBIA\" ...\n $ gender                    : chr  \"Male\" \"Male\" \"Female\" \"Male\" ...\n $ dupe_count                : int  1 1 1 1 1 1 1 1 1 1 ...\n - attr(*, \".internal.selfref\")=&lt;externalptr&gt; \n\n\n\n\n\n\n\n\nCaution\n\n\n\nThis will still include duplicates by person because there were a lot of people arrested in earlier years and again in 2025. Be sure to distinct_n() rather than n() whenever it’s important to count people by group."
  },
  {
    "objectID": "programs/clean/01-arrest-checks.html#create-more-general-categories-and-apply-lookups",
    "href": "programs/clean/01-arrest-checks.html#create-more-general-categories-and-apply-lookups",
    "title": "Arrest table cleanup",
    "section": "Create more general categories and apply lookups",
    "text": "Create more general categories and apply lookups\nThe case information is often pretty specific, and we want to be able to talk about broad groupings. I’ve documented where those groupings come from in the &lt;documentation/docs-alldata.qmd&gt; – they cross a lot of the datasets. Here, I’m just applying those decisions to this set of data.\nGenerally, the decisions were made based on the combinations I saw and other peoples’ publications or coding.\n\n\nCode\n```{r}\n#| label: get-lookups\n\n## Applies all of the lookup tabes that I've finished\n\nlookup_tables &lt;- read_excel (here(\"documentation/background/master_data_dictionary_lookups.xlsx\"),\n                            sheet=\"lookups\",\n                            na= c(\"\", \"N/A\") ) |&gt;\n                  select ( tables, varname, orig_value = `initial value`, recode_to = recode)\n\n\nlist_of_vars &lt;- c(\"final_program\", \"apprehension_method\", \"case_status\")\n\n\n# create a list of named vectors to use in mutate statement\n\n#THESE DEPEND ON OLD-STYLE %&gt;% NOT |&gt; --------------------------------\n# it's way easier to do tmp functions and use the . placeholder than do it in\n# base R and new syntax.\n\nmapping_list &lt;- lookup_tables %&gt;%\n    filter (!is.na( orig_value),\n            varname %in% list_of_vars) %&gt;%\n    mutate(\n      orig_value   = as.character(orig_value),\n      # in case they're factors\n      recode_to = as.character(recode_to)\n    ) %&gt;%\n    split(.$varname) %&gt;%\n    map(~ setNames(.x$recode_to, .x$orig_value))\n\n# this is still working on the data.table. Have to convert it back to the tibble to see the values.\n\ndf_recoded &lt;- deduped %&gt;%\n  mutate(across(all_of(list_of_vars),\n                ~ {\n\n                  col_vec &lt;- mapping_list[[cur_column()]]\n                  #col_vec is a named vector for the current column\n                  return_value &lt;- col_vec[ as.character(.) ]\n                  #res is the value in the current column use as the name for the vector value.\n                },\n                .names  =  \"{.col}_recoded\"\n  )) |&gt;\n  as_tibble()\n\n#----------------------------------------------------------------------------\n\nglimpse(df_recoded)\n```\n\n\nRows: 289,947\nColumns: 24\n$ person_id                   &lt;chr&gt; \"000066a0cf0da888503506a0bd39e0772fada2ce\"…\n$ apprehension_date           &lt;dttm&gt; 2025-07-26 18:50:27, 2025-07-02 17:57:46,…\n$ orig_row_id                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,…\n$ unique_identifier           &lt;chr&gt; \"000066a0cf0da888503506a0bd39e0772fada2ce\"…\n$ apprehension_date_part      &lt;date&gt; 2025-07-26, 2025-07-02, 2024-07-05, 2025-…\n$ apprehension_aor            &lt;chr&gt; \"Houston Area of Responsibility\", \"Salt La…\n$ apprehension_state          &lt;chr&gt; \"TEXAS\", \"NEVADA\", \"NEW YORK\", \"TEXAS\", \"T…\n$ apprehension_site_landmark  &lt;chr&gt; \"MTG GENERAL AREA, NON-SPECIFIC\", \"NORTH L…\n$ final_program               &lt;chr&gt; \"ERO Criminal Alien Program\", \"ERO Crimina…\n$ apprehension_method         &lt;chr&gt; \"Custodial Arrest\", \"CAP Local Incarcerati…\n$ apprehension_criminality    &lt;chr&gt; \"3 Other Immigration Violator\", \"2 Pending…\n$ case_status                 &lt;chr&gt; \"ACTIVE\", \"ACTIVE\", \"6-Deported/Removed - …\n$ case_category               &lt;chr&gt; \"[1A] Voluntary Departure - Un-Expired and…\n$ departed_date               &lt;date&gt; NA, NA, 2024-09-05, 2025-06-25, 2025-02-1…\n$ departure_country           &lt;chr&gt; NA, NA, \"GUYANA\", \"COLOMBIA\", \"EL SALVADOR…\n$ final_order_yes_no          &lt;chr&gt; \"NO\", \"NO\", \"YES\", \"YES\", \"YES\", \"YES\", \"Y…\n$ final_order_date            &lt;date&gt; NA, NA, 2014-03-13, 2025-03-02, 2025-01-1…\n$ birth_year                  &lt;dbl&gt; 2002, 1984, 1968, 2004, 2000, 2003, 2000, …\n$ citizenship_country         &lt;chr&gt; \"HONDURAS\", \"MEXICO\", \"GUYANA\", \"COLOMBIA\"…\n$ gender                      &lt;chr&gt; \"Male\", \"Male\", \"Female\", \"Male\", \"Male\", …\n$ dupe_count                  &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ final_program_recoded       &lt;chr&gt; \"Criminal justice system\", \"Criminal justi…\n$ apprehension_method_recoded &lt;chr&gt; \"From detention\", \"From detention\", \"From …\n$ case_status_recoded         &lt;chr&gt; \"Active case\", \"Active case\", \"Excluded / …\n\n\n\nSaving the processed files\n\n\nCode\n```{r}\n#| label: save-rda-file\n\nsaveit (  master_xl, lookup_tables, df_recoded,\n         string=c(\"arrests_original\", \"lookup_tables\", \"arrests_recoded\"),\n         file=\"data/processed/arrests.Rda\")\n```\n\n\nWarning in gzfile(file, \"wb\"): cannot open compressed file\n'data/processed/arrests.Rda', probable reason 'No such file or directory'\n\n\nError in gzfile(file, \"wb\"): cannot open the connection"
  },
  {
    "objectID": "programs/clean/01-arrest-checks.html#diagnostics",
    "href": "programs/clean/01-arrest-checks.html#diagnostics",
    "title": "Arrest table cleanup",
    "section": "Diagnostics",
    "text": "Diagnostics\nIt’s still not entirely clear what these columns represent, so I wanted to make some charts of their frequency and how they relate to one another.\n\n\nCode\n```{r}\n#| label: add-libraries-for-analysis\npacman::p_load(\"reactable\", \"reactablefmtr\", \"DT\", \"janitor\", \"skimr\", \"GGalley\")\n```\n\n\nWarning: package 'GGalley' is not available for this version of R\n\nA version of this package for your version of R might be available elsewhere,\nsee the ideas at\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages\n\n\nWarning: 'BiocManager' not available.  Could not check Bioconductor.\n\nPlease use `install.packages('BiocManager')` and then retry.\n\n\nWarning in p_install(package, character.only = TRUE, ...):\n\n\nWarning in library(package, lib.loc = lib.loc, character.only = TRUE,\nlogical.return = TRUE, : there is no package called 'GGalley'\n\n\nWarning in pacman::p_load(\"reactable\", \"reactablefmtr\", \"DT\", \"janitor\", : Failed to install/load:\nGGalley\n\n\n\nIs there a way to look at Kavanaugh stops from this?"
  },
  {
    "objectID": "programs/clean/01-arrest-checks.html#footnotes",
    "href": "programs/clean/01-arrest-checks.html#footnotes",
    "title": "Arrest table cleanup",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nIt uses the janitor::clean_names() function, so it’s always done the same way.↩︎"
  }
]